\hypertarget{classLensing}{\section{Lensing Class Reference}
\label{classLensing}\index{Lensing@{Lensing}}
}


Integration utilities for raytracing.  




{\ttfamily \#include $<$lensing.\-h$>$}

\subsection*{Static Public Member Functions}
\begin{Indent}{\bf Initialization}\par
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$int Order = O\-R\-D\-E\-R, bool R\-K4 = true, bool Verbose = false, class Parameter , class Point , class Cosmology , class Octree , class Type $>$ }\\static std\-::array$<$ std\-::array\\*
$<$ double, 2 $>$, 2 $>$ \hyperlink{classLensing_aec15f2b6e1756426a235cc2384b3c8cb}{dbetadtheta} (const Parameter \&\hyperlink{rays_8h_ae1bc8b0b8c8b9f8e4cc61a5cc7c4ce9e}{parameters}, const Point \&ki\-Targets, const Type interp\-Ref, const Point \&observer, const Type phi, const Type theta, const Type dist, const Cosmology \&cosmology, const Octree \&octree, const Point \&vobs, const Type length)
\begin{DoxyCompactList}\small\item\em Compute the jacobian for lensing. \end{DoxyCompactList}\item 
{\footnotesize template$<$int Order = O\-R\-D\-E\-R, bool R\-K4 = true, bool Verbose = false, class Parameter , class Point , class Cosmology , class Octree , class Type $>$ }\\static std\-::vector$<$ std\-::array\\*
$<$ std\-::array$<$ double, 2 $>$, 2 $>$ $>$ \hyperlink{classLensing_a756b7cbe64b3ab8d70b6c9f6a951bf04}{dbetadtheta} (const Parameter \&\hyperlink{rays_8h_ae1bc8b0b8c8b9f8e4cc61a5cc7c4ce9e}{parameters}, const std\-::vector$<$ Point $>$ \&ki\-Targets, const std\-::vector$<$ Type $>$ \&interp\-Ref, const Point \&observer, const Type phi, const Type theta, const std\-::vector$<$ Type $>$ \&dist, const Cosmology \&cosmology, const Octree \&octree, const Point \&vobs, const Type length)
\begin{DoxyCompactList}\small\item\em Compute the jacobian for lensing. \end{DoxyCompactList}\item 
{\footnotesize template$<$int Order = O\-R\-D\-E\-R, bool R\-K4 = true, bool Verbose = false, class Type , class Trajectory , template$<$ typename Kind, class Index, class Data, unsigned int Dimension, class Position, class Extent, class Element, class Container $>$ class Octree, typename Kind , class Index , class Data , unsigned int Dimension, class Position , class Extent , class Element , class Container $>$ }\\static std\-::array$<$ std\-::array\\*
$<$ double, 2 $>$, 2 $>$ \hyperlink{classLensing_a431cf5032e118d142877116cbe312a9f}{dbetadtheta\-\_\-infinitesimal} (const Type distance, const Trajectory \&trajectory, const Octree$<$ Kind, Index, Data, Dimension, Position, Extent, Element, Container $>$ \&octree, const Type length)
\begin{DoxyCompactList}\small\item\em Compute the jacobian for lensing. \end{DoxyCompactList}\item 
{\footnotesize template$<$int Order = O\-R\-D\-E\-R, bool R\-K4 = true, bool Verbose = false, class Type , class Trajectory , template$<$ typename Kind, class Index, class Data, unsigned int Dimension, class Position, class Extent, class Element, class Container $>$ class Octree, typename Kind , class Index , class Data , unsigned int Dimension, class Position , class Extent , class Element , class Container $>$ }\\static std\-::vector$<$ std\-::array\\*
$<$ std\-::array$<$ double, 2 $>$, 2 $>$ $>$ \hyperlink{classLensing_ac502c98ab1cbd79e435c1fb2d1febb31}{dbetadtheta\-\_\-infinitesimal} (const std\-::vector$<$ Type $>$ \&dist, const Trajectory \&trajectory, const Octree$<$ Kind, Index, Data, Dimension, Position, Extent, Element, Container $>$ \&octree, const Type length)
\begin{DoxyCompactList}\small\item\em Compute the jacobian for lensing. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf Test}\par
\begin{DoxyCompactItemize}
\item 
static int \hyperlink{classLensing_a34fb0894ad4b5e2ffce28016455c9c75}{example} ()
\end{DoxyCompactItemize}
\end{Indent}


\subsection{Detailed Description}
Integration utilities for raytracing. 

Provides a list of integration routines for geodesics integration. 

\subsection{Member Function Documentation}
\hypertarget{classLensing_aec15f2b6e1756426a235cc2384b3c8cb}{\index{Lensing@{Lensing}!dbetadtheta@{dbetadtheta}}
\index{dbetadtheta@{dbetadtheta}!Lensing@{Lensing}}
\subsubsection[{dbetadtheta}]{\setlength{\rightskip}{0pt plus 5cm}template$<$int Order, bool R\-K4, bool Verbose, class Parameter , class Point , class Cosmology , class Octree , class Type $>$ std\-::array$<$ std\-::array$<$ double, 2 $>$, 2 $>$ Lensing\-::dbetadtheta (
\begin{DoxyParamCaption}
\item[{const Parameter \&}]{parameters, }
\item[{const Point \&}]{ki\-Target, }
\item[{const Type}]{interp\-Ref, }
\item[{const Point \&}]{observer, }
\item[{const Type}]{phi\-Init, }
\item[{const Type}]{theta\-Init, }
\item[{const Type}]{dist, }
\item[{const Cosmology \&}]{cosmology, }
\item[{const Octree \&}]{octree, }
\item[{const Point \&}]{vobs, }
\item[{const Type}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classLensing_aec15f2b6e1756426a235cc2384b3c8cb}


Compute the jacobian for lensing. 

Compute the jacobian for lensing 
\begin{DoxyTemplParams}{Template Parameters}
{\em Order} & Octree interpolation order \-: 0 for N\-G\-P, 1 for C\-I\-C, 2 for T\-S\-C or -\/1 for an homogeneous universe. \\
\hline
{\em R\-K4} & Runge-\/kutta of fourth order or euler. \\
\hline
{\em Verbose} & Verbose mode for debug purposes. \\
\hline
{\em Parameter} & Parameter type. \\
\hline
{\em Point} & point type. \\
\hline
{\em Cosmology} & cosmology type \\
\hline
{\em Octree} & octree type \\
\hline
{\em Type} & Scalar type. \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em parameters} & Parameter structure. \\
\hline
\mbox{\tt in}  & {\em ki\-Target} & Vector normal to the plane needed to compute the distortion matrix. \\
\hline
\mbox{\tt in}  & {\em interp\-Ref} & value for interpolation of the bundle. \\
\hline
\mbox{\tt in}  & {\em observer} & Point observer position \\
\hline
\mbox{\tt in}  & {\em phi\-Init} & initial trajectory angle \\
\hline
\mbox{\tt in}  & {\em theta\-Init} & initial trajectory angle \\
\hline
\mbox{\tt in}  & {\em dist} & distance at different evaluations of the matrix \\
\hline
\mbox{\tt in}  & {\em cosmology} & Cosmology evolution. \\
\hline
\mbox{\tt in}  & {\em octree} & Octree. \\
\hline
\mbox{\tt in}  & {\em vobs} & Observer peculiar velocity, in S\-I \\
\hline
\mbox{\tt in}  & {\em length} & Spatial length in S\-I units. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
2x2 array Aij giving the jacobian from seen angles to true angles 
\end{DoxyReturn}
\hypertarget{classLensing_a756b7cbe64b3ab8d70b6c9f6a951bf04}{\index{Lensing@{Lensing}!dbetadtheta@{dbetadtheta}}
\index{dbetadtheta@{dbetadtheta}!Lensing@{Lensing}}
\subsubsection[{dbetadtheta}]{\setlength{\rightskip}{0pt plus 5cm}template$<$int Order, bool R\-K4, bool Verbose, class Parameter , class Point , class Cosmology , class Octree , class Type $>$ std\-::vector$<$ std\-::array$<$ std\-::array$<$ double, 2 $>$, 2 $>$ $>$ Lensing\-::dbetadtheta (
\begin{DoxyParamCaption}
\item[{const Parameter \&}]{parameters, }
\item[{const std\-::vector$<$ Point $>$ \&}]{ki\-Targets, }
\item[{const std\-::vector$<$ Type $>$ \&}]{interp\-Refvec, }
\item[{const Point \&}]{observer, }
\item[{const Type}]{phi\-Init, }
\item[{const Type}]{theta\-Init, }
\item[{const std\-::vector$<$ Type $>$ \&}]{dist, }
\item[{const Cosmology \&}]{cosmology, }
\item[{const Octree \&}]{octree, }
\item[{const Point \&}]{vobs, }
\item[{const Type}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classLensing_a756b7cbe64b3ab8d70b6c9f6a951bf04}


Compute the jacobian for lensing. 

Compute the jacobian for lensing 
\begin{DoxyTemplParams}{Template Parameters}
{\em Order} & Octree interpolation order \-: 0 for N\-G\-P, 1 for C\-I\-C, 2 for T\-S\-C or -\/1 for an homogeneous universe. \\
\hline
{\em R\-K4} & Runge-\/kutta of fourth order or euler. \\
\hline
{\em Verbose} & Verbose mode for debug purposes. \\
\hline
{\em Parameter} & Parameter type. \\
\hline
{\em Point} & point type. \\
\hline
{\em Cosmology} & cosmology type \\
\hline
{\em Octree} & octree type \\
\hline
{\em Type} & Scalar type. \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em parameters} & Parameter structure. \\
\hline
\mbox{\tt in}  & {\em ki\-Targets} & Vector of vectors normal to the plane needed to compute the distortion matrix at some given surface. \\
\hline
\mbox{\tt in}  & {\em interp\-Refvec} & values for interpolation of the bundle. \\
\hline
\mbox{\tt in}  & {\em observer} & Point observer position \\
\hline
\mbox{\tt in}  & {\em phi\-Init} & initial trajectory angle \\
\hline
\mbox{\tt in}  & {\em theta\-Init} & initial trajectory angle \\
\hline
\mbox{\tt in}  & {\em dist} & distance at different evaluations of the matrix \\
\hline
\mbox{\tt in}  & {\em interpolation} & String of a given interpolation \\
\hline
\mbox{\tt in}  & {\em cosmology} & Cosmology evolution. \\
\hline
\mbox{\tt in}  & {\em octree} & Octree. \\
\hline
\mbox{\tt in}  & {\em vobs} & Observer peculiar velocity, in S\-I \\
\hline
\mbox{\tt in}  & {\em length} & Spatial length in S\-I units. \\
\hline
\mbox{\tt in}  & {\em nsteps} & Number of lambda steps per grid. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
2x2 array Aij giving the jacobian from seen angles to true angles 
\end{DoxyReturn}
\hypertarget{classLensing_a431cf5032e118d142877116cbe312a9f}{\index{Lensing@{Lensing}!dbetadtheta\-\_\-infinitesimal@{dbetadtheta\-\_\-infinitesimal}}
\index{dbetadtheta\-\_\-infinitesimal@{dbetadtheta\-\_\-infinitesimal}!Lensing@{Lensing}}
\subsubsection[{dbetadtheta\-\_\-infinitesimal}]{\setlength{\rightskip}{0pt plus 5cm}template$<$int Order, bool R\-K4, bool Verbose, class Type , class Trajectory , template$<$ typename Kind, class Index, class Data, unsigned int Dimension, class Position, class Extent, class Element, class Container $>$ class Octree, typename Kind , class Index , class Data , unsigned int Dimension, class Position , class Extent , class Element , class Container $>$ std\-::array$<$ std\-::array$<$ double, 2 $>$, 2 $>$ Lensing\-::dbetadtheta\-\_\-infinitesimal (
\begin{DoxyParamCaption}
\item[{const Type}]{distance, }
\item[{const Trajectory \&}]{trajectory, }
\item[{const Octree$<$ Kind, Index, Data, Dimension, Position, Extent, Element, Container $>$ \&}]{octree, }
\item[{const Type}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classLensing_a431cf5032e118d142877116cbe312a9f}


Compute the jacobian for lensing. 

Compute the jacobian for lensing 
\begin{DoxyTemplParams}{Template Parameters}
{\em Order} & Octree interpolation order \-: 0 for N\-G\-P, 1 for C\-I\-C, 2 for T\-S\-C or -\/1 for an homogeneous universe. \\
\hline
{\em R\-K4} & Runge-\/kutta of fourth order or euler. \\
\hline
{\em Verbose} & Verbose mode for debug purposes. \\
\hline
{\em Type} & Scalar type. \\
\hline
{\em Trajectory} & trajectory type. \\
\hline
{\em Octree} & octree type \\
\hline
{\em Type} & type type \\
\hline
{\em Kind} & Kind type \\
\hline
{\em Index} & index type \\
\hline
{\em Data} & data type \\
\hline
{\em Dimension} & Number of dimensions \\
\hline
{\em Position} & position type \\
\hline
{\em Extent} & extent type \\
\hline
{\em Element} & element type \\
\hline
{\em Container} & container type \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em distance} & scalar comoving distance to stop lensing integration \\
\hline
\mbox{\tt in}  & {\em phi} & initial trajectory angle \\
\hline
\mbox{\tt in}  & {\em theta} & initial trajectory angle \\
\hline
\mbox{\tt in}  & {\em trajectory} & \hyperlink{exceptionPhoton}{Photon} trajectory used to compute the jacobian matrix. \\
\hline
\mbox{\tt in}  & {\em octree} & Octree. \\
\hline
\mbox{\tt in}  & {\em length} & Spatial length in S\-I units. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
2x2 array Aij giving the jacobian from seen angles to true angles 
\end{DoxyReturn}
\hypertarget{classLensing_ac502c98ab1cbd79e435c1fb2d1febb31}{\index{Lensing@{Lensing}!dbetadtheta\-\_\-infinitesimal@{dbetadtheta\-\_\-infinitesimal}}
\index{dbetadtheta\-\_\-infinitesimal@{dbetadtheta\-\_\-infinitesimal}!Lensing@{Lensing}}
\subsubsection[{dbetadtheta\-\_\-infinitesimal}]{\setlength{\rightskip}{0pt plus 5cm}template$<$int Order, bool R\-K4, bool Verbose, class Type , class Trajectory , template$<$ typename Kind, class Index, class Data, unsigned int Dimension, class Position, class Extent, class Element, class Container $>$ class Octree, typename Kind , class Index , class Data , unsigned int Dimension, class Position , class Extent , class Element , class Container $>$ std\-::vector$<$ std\-::array$<$ std\-::array$<$ double, 2 $>$, 2 $>$ $>$ Lensing\-::dbetadtheta\-\_\-infinitesimal (
\begin{DoxyParamCaption}
\item[{const std\-::vector$<$ Type $>$ \&}]{dist, }
\item[{const Trajectory \&}]{trajectory, }
\item[{const Octree$<$ Kind, Index, Data, Dimension, Position, Extent, Element, Container $>$ \&}]{octree, }
\item[{const Type}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classLensing_ac502c98ab1cbd79e435c1fb2d1febb31}


Compute the jacobian for lensing. 

Compute the jacobian for lensing 
\begin{DoxyTemplParams}{Template Parameters}
{\em Order} & Octree interpolation order \-: 0 for N\-G\-P, 1 for C\-I\-C, 2 for T\-S\-C or -\/1 for an homogeneous universe. \\
\hline
{\em R\-K4} & Runge-\/kutta of fourth order or euler. \\
\hline
{\em Verbose} & Verbose mode for debug purposes. \\
\hline
{\em Type} & Scalar type. \\
\hline
{\em Trajectory} & trajectory type. \\
\hline
{\em Octree} & octree type \\
\hline
{\em Kind} & Kind type \\
\hline
{\em Type} & type type \\
\hline
{\em Index} & index type \\
\hline
{\em Data} & data type \\
\hline
{\em Dimension} & Number of dimensions \\
\hline
{\em Position} & position type \\
\hline
{\em Extent} & extent type \\
\hline
{\em Element} & element type \\
\hline
{\em Container} & container type \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em dist} & vector of comoving distances to stop lensing integrations \\
\hline
\mbox{\tt in}  & {\em phi} & initial trajectory angle \\
\hline
\mbox{\tt in}  & {\em theta} & initial trajectory angle \\
\hline
\mbox{\tt in}  & {\em trajectory} & \hyperlink{exceptionPhoton}{Photon} trajectory used to compute the jacobian matrix. \\
\hline
\mbox{\tt in}  & {\em octree} & Octree. \\
\hline
\mbox{\tt in}  & {\em length} & Spatial length in S\-I units. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
2x2 array Aij giving the jacobian from seen angles to true angles 
\end{DoxyReturn}
\hypertarget{classLensing_a34fb0894ad4b5e2ffce28016455c9c75}{\index{Lensing@{Lensing}!example@{example}}
\index{example@{example}!Lensing@{Lensing}}
\subsubsection[{example}]{\setlength{\rightskip}{0pt plus 5cm}static int Lensing\-::example (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classLensing_a34fb0894ad4b5e2ffce28016455c9c75}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
/data/home/mbreton/magrathea\-\_\-pathfinder/src/\hyperlink{lensing_8h}{lensing.\-h}\end{DoxyCompactItemize}
